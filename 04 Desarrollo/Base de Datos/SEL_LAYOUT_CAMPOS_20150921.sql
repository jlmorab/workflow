--  Generate SQL --  Version:                   	V5R4M0 060210 --  Generated on:              	21/09/15 16:29:27 --  Relational Database:       	B103BE2F --  Standards Option:          	DB2 UDB iSeries   SET PATH "QSYS","QSYS2","QGPL","CARVALHORA" ;   CREATE PROCEDURE CARVALHORA.SEL_LAYOUT_CAMPOS ( 	IN P_ID_LAYOUT INT, 	IN P_STATUS SMALLINT ) 	DYNAMIC RESULT SETS 1 	LANGUAGE SQL 	SPECIFIC CARVALHORA.SEL_LAYOUT_CAMPOS 	NOT DETERMINISTIC 	READS SQL DATA 	CALLED ON NULL INPUT 	SET OPTION  ALWBLK = *ALLREAD , 	ALWCPYDTA = *OPTIMIZE , 	COMMIT = *NONE , 	DECRESULT = (31, 31, 00) , 	DFTRDBCOL = *NONE , 	DYNDFTCOL = *NO , 	DYNUSRPRF = *USER , 	SRTSEQ = *HEX   	P1 : BEGIN   		DECLARE C1 CURSOR WITH RETURN FOR 			SELECT A . *, B . TCA_NOM, B . TCA_CPT, C . MVA_NOM, C . MVA_PAR, C . MVA_ESX, C . MVA_RSY, C . MVA_DES 			FROM (CARVALHORA . CAT_LACA A LEFT JOIN 			             CARVALHORA . CAT_TICA B ON A . TCA_CVE = B . TCA_CVE) LEFT JOIN 			             CARVALHORA . CAT_MEVA C ON A . MVA_CVE = C . MVA_CVE 			WHERE LAY_CVE = P_ID_LAYOUT ;		DECLARE C2 CURSOR WITH RETURN FOR 			SELECT A . *, B . TCA_NOM, B . TCA_CPT, C . MVA_NOM, C . MVA_PAR, C . MVA_ESX, C . MVA_RSY, C . MVA_DES 			FROM (CARVALHORA . CAT_LACA A LEFT JOIN 			             CARVALHORA . CAT_TICA B ON A . TCA_CVE = B . TCA_CVE) LEFT JOIN 			             CARVALHORA . CAT_MEVA C ON A . MVA_CVE = C . MVA_CVE 			WHERE A . LAY_CVE = P_ID_LAYOUT AND A . STA_CVE = P_STATUS ;		IF P_STATUS = -1 THEN			OPEN C1 ;		ELSE			OPEN C2 ;		END IF ;	END P1 ;