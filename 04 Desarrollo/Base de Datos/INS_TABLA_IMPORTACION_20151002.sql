--  Generate SQL --  Version:                   	V5R4M0 060210 --  Generated on:              	02/10/15 19:01:27 --  Relational Database:       	B103BE2F --  Standards Option:          	DB2 UDB iSeries   SET PATH "QSYS","QSYS2","QGPL","CARVALHORA" ; --DROP PROCEDURE CARVALHORA.INS_TABLA_IMPORTACION ;  CREATE PROCEDURE CARVALHORA.INS_TABLA_IMPORTACION ( 	IN P_ID_BITACORA BIGINT , 	IN P_ID_LAYOUT INTEGER , 	IN P_TABLA_DESTINO VARCHAR(50), 	IN P_REG_OK INTEGER, 	IN P_REG_OM INTEGER, 	IN P_REG_ER INTEGER ) 	LANGUAGE SQL 	SPECIFIC CARVALHORA.INS_TABLA_IMPORTACION 	NOT DETERMINISTIC 	MODIFIES SQL DATA 	CALLED ON NULL INPUT 	SET OPTION  ALWBLK = *ALLREAD , 	ALWCPYDTA = *OPTIMIZE , 	COMMIT = *NONE , 	DECRESULT = (31, 31, 00) , 	DFTRDBCOL = *NONE , 	DYNDFTCOL = *NO , 	DYNUSRPRF = *USER , 	SRTSEQ = *HEX   	P1 : BEGIN   		DECLARE V_TAB_ORIGEN VARCHAR ( 2000 ) ; 		DECLARE V_QRY_INSERT VARCHAR ( 2000 ) ; 		DECLARE V_SQL VARCHAR ( 5000 ) ;   		UPDATE CARVALHORA . TMP_IMPO SET IMP_VAL = NULL WHERE IMP_VAL = '' ;   		SELECT FNC_GET_TABDINAMICA ( P_ID_BITACORA , P_REG_OK , P_REG_OM , P_REG_ER ) INTO V_TAB_ORIGEN FROM SYSIBM . SYSDUMMY1 ;   		IF NOT V_TAB_ORIGEN IS NULL THEN   			SELECT FNC_GET_TABLETARGET ( P_ID_LAYOUT , P_TABLA_DESTINO , V_TAB_ORIGEN ) INTO V_QRY_INSERT FROM SYSIBM . SYSDUMMY1 ;   			EXECUTE IMMEDIATE V_QRY_INSERT ;   		END IF ;   	END P1  ;