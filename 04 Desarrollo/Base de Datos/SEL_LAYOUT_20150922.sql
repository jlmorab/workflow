--  Generate SQL --  Version:                   	V5R4M0 060210 --  Generated on:              	22/09/15 04:29:27 --  Relational Database:       	B103BE2F --  Standards Option:          	DB2 UDB iSeries   SET PATH "QSYS","QSYS2","QGPL","CARVALHORA" ;   CREATE PROCEDURE CARVALHORA.SEL_LAYOUT ( 	IN P_ID_LAYOUT INT, 	IN P_STATUS SMALLINT ) 	DYNAMIC RESULT SETS 1 	LANGUAGE SQL 	SPECIFIC CARVALHORA.SEL_LAYOUT 	NOT DETERMINISTIC 	READS SQL DATA 	CALLED ON NULL INPUT 	SET OPTION  ALWBLK = *ALLREAD , 	ALWCPYDTA = *OPTIMIZE , 	COMMIT = *NONE , 	DECRESULT = (31, 31, 00) , 	DFTRDBCOL = *NONE , 	DYNDFTCOL = *NO , 	DYNUSRPRF = *USER , 	SRTSEQ = *HEX   	P1 : BEGIN   		DECLARE C1 CURSOR WITH RETURN FOR 			SELECT A . * , B . NEG_NOM, B . NEG_NOC 			FROM CARVALHORA . CAT_LAYO A INNER JOIN 			            CARVALHORA . CAT_NEGO B ON A . NEG_CVE = B . NEG_CVE 			WHERE A . LAY_CVE = P_ID_LAYOUT ;		DECLARE C2 CURSOR WITH RETURN FOR 			SELECT A . * , B . NEG_NOM, B . NEG_NOC 			FROM CARVALHORA . CAT_LAYO A INNER JOIN 			            CARVALHORA . CAT_NEGO B ON A . NEG_CVE = B . NEG_CVE 			WHERE A . LAY_CVE = P_ID_LAYOUT AND A . STA_CVE = P_STATUS ;		IF P_STATUS = -1 THEN			OPEN C1 ;		ELSE			OPEN C2 ;		END IF ;	END P1 ;