--  Generate SQL --  Version:                   	V5R4M0 060210 --  Generated on:              	02/10/15 20:05:06 --  Relational Database:       	B103BE2F --  Standards Option:          	DB2 UDB iSeries   SET PATH "QSYS","QSYS2","CARVALHORA" ; --DROP FUNCTION CARVALHORA.FNC_GET_TIPODATO ;   CREATE FUNCTION CARVALHORA.FNC_GET_TIPODATO ( 	P_VALOR VARCHAR(500) , 	P_TIPODATO VARCHAR(50) , 	P_POSICION INTEGER , 	P_ESCALA INTEGER ) 	RETURNS VARCHAR(2000)   	LANGUAGE SQL 	SPECIFIC CARVALHORA.FNC_GET_TIPODATO 	NOT DETERMINISTIC 	READS SQL DATA 	CALLED ON NULL INPUT 	DISALLOW PARALLEL 	SET OPTION  ALWBLK = *ALLREAD , 	ALWCPYDTA = *OPTIMIZE , 	COMMIT = *CHG , 	DECRESULT = (31, 31, 00) , 	DFTRDBCOL = *NONE , 	DYNDFTCOL = *NO , 	DYNUSRPRF = *USER , 	SRTSEQ = *HEX   	BEGIN ATOMIC   		DECLARE V_CAST VARCHAR ( 600 ) ;   		SET V_CAST = ( CASE P_TIPODATO WHEN 'BOOLEANO'	THEN 'SMALLINT(' || P_VALOR || ')' 				WHEN 'ENTERO CORTO'	THEN 'SMALLINT(' || P_VALOR || ')' 				WHEN 'ENTERO'	THEN 'INTEGER(' || P_VALOR || ')' 				WHEN 'ENTERO LARGO'	THEN 'BIGINT(' || P_VALOR || ')' 				WHEN 'DECIMAL'	THEN 'CAST(' || P_VALOR || ' AS DECIMAL(' || P_POSICION || ', ' || P_ESCALA || '))' 				WHEN 'TEXTO'	THEN P_VALOR 				WHEN 'FECHA'	THEN 'DATE(' || P_VALOR || ')' 				WHEN 'HORA'	THEN 'TIME(' || P_VALOR || ')' 			ELSE P_VALOR 			END ) ;   		RETURN V_CAST ; 			 	END  ;